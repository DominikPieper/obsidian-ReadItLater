# ReadItLater Plugin for Obsidian

## Table of contents

- [Introduction](#introduction)
- [Content Types](#content-types)
    - [Youtube](#youtube)
    - [Vimeo](#vimeo)
    - [Bilibili](#bilibili)
    - [Twitter](#twitter)
    - [Stack Exchange](#stack-exchange)
    - [Mastodon](#mastodon)
    - [TikTok](#tiktok)
    - [Website URL](#website-url)
    - [Text Snippet](#text-snippet)

## Introduction

ReadItLater is a simple plugin for Obsidian to collect interesting information from your clipboard into your vault.

To add something to your vault just click the `ReadItLater: Save clipboard` ribbon or run the `ReadItLater: Save clipboard` command. New note will be added to folder (default is `ReadItLater Inbox`) configured in plugin settings.

## Content Types

Structure of note content is determined by URL. Currenty plugin supports saving content of websites and embedding content from multiple services. Each content type has title and note template with replacable variables, which can be edited in plugin settings.

Available content types are ordered by URL detection priority.

### Youtube

Will be converted to note with embeded player in `<iframe>`.

| Title template variable | Retrieved from                              |
| ----------------------- | ------------------------------------------- |
| %title%                 | Schema.org markup                           |
| %date%                  | Current date in format from plugin settings |

| Content template variable | Retrieved from                              |
| ------------------------- | ------------------------------------------- |
| %videoTitle%              | Schema.org markup                           |
| %date%                    | Current date in format from plugin settings |
| %videoURL%                | URL in clipboard                            |
| %videoId%                 | Schema.org markup                           |
| %videoPlayer%             | Embeded player generated by plugin          |
| %channelId%               | Schema.org markup                           |
| %channelName%             | Schema.org markup                           |
| %channelURL%              | Schema.org markup                           |

Because of HTML DOM parsing limitations, additional data can be fetched only from [Google API](https://developers.google.com/youtube/v3/getting-started). If API key is provided, these additional template variables are available.

| Content template variable | Retrieved from      |
| ------------------------- | ------------------- |
| %videoDescription%        | Google API response |
| %videoDuration%           | Google API response |
| %videoDurationFormatted%  | Google API response |
| %videoPublishDate%        | Google API response |
| %videoThumbnail%          | Google API response |
| %videoTags%               | Google API response |
| %videoViewsCount%         | Google API response |

### Vimeo

Will be converted to note with embeded player in `<iframe>`.

| Title template variable | Retrieved from                              |
| ----------------------- | ------------------------------------------- |
| %title%                 | Schema.org markup                           |
| %date%                  | Current date in format from plugin settings |

| Content template variable | Retrieved from                              |
| ------------------------- | ------------------------------------------- |
| %videoTitle%              | Schema.org markup                           |
| %date%                    | Current date in format from plugin settings |
| %videoURL%                | URL in clipboard                            |
| %videoId%                 | Schema.org markup                           |
| %videoPlayer%             | Embeded player generated by plugin          |
| %channelName%             | Schema.org markup                           |
| %channelURL%              | Schema.org markup                           |

### Bilibili

Will be converted to note with embeded player in `<iframe>`.

| Title template variable | Retrieved from                              |
| ----------------------- | ------------------------------------------- |
| %title%                 | `<meta name="og:title">` HTML element       |
| %date%                  | Current date in format from plugin settings |

| Content template variable | Retrieved from                              |
| ------------------------- | ------------------------------------------- |
| %videoTitle%              | `<meta name="og:title">` HTML element       |
| %date%                    | Current date in format from plugin settings |
| %videoURL%                | URL in clipboard                            |
| %videoId%                 | URL in clipboard                            |
| %videoPlayer%             | Embeded player generated by plugin          |

### Twitter

Will be converted to markdown note with data from [Twitter Publish API](https://publish.twitter.com/)

| Title template variable | Retrieved from                              |
| ----------------------- | ------------------------------------------- |
| %tweetAuthorName%       | Twitter Publish API                         |
| %date%                  | Current date in format from plugin settings |

| Content template variable | Retrieved from                              |
| ------------------------- | ------------------------------------------- |
| %tweetAuthorName%         | Twitter Publish API                         |
| %date%                    | Current date in format from plugin settings |
| %tweetURL%                | Twitter Publish API                         |
| %tweetContent%            | Twitter Publish API                         |

### Stack Exchange

Will be converted to markdown with parsed question and answers from DOM.

| Title template variable | Retrieved from                              |
| ----------------------- | ------------------------------------------- |
| %title%                 | HTML element                                |
| %date%                  | Current date in format from plugin settings |

***Note template variables***

| Content template variable | Retrieved from                              |
| ------------------------- | ------------------------------------------- |
| %date%                    | Current date in format from plugin settings |
| %questionTitle%           | HTML element                                |
| %questionURL%             | HTML element                                |
| %questionContent%         | HTML element                                |
| %authorName%              | HTML element                                |
| %authorProfileURL         | HTML element                                |
| %topAnswer%               | HTML element                                |
| %answers%                 | HTML elements                               |

***Partial answer template variables***

| Content template variable | Retrieved from                              |
| ------------------------- | ------------------------------------------- |
| %date%                    | Current date in format from plugin settings |
| %answerContent%           | HTML element                                |
| %authorName%              | HTML element                                |
| %authorProfileURL         | HTML element                                |

### Mastodon

Will be converted to markdown note with retrieved from [API](https://docs.joinmastodon.org/methods/statuses/#get)

| Title template variable | Retrieved from                              |
| ----------------------- | ------------------------------------------- |
| %tootAuthorName%        | Mastodon API                                |
| %date%                  | Current date in format from plugin settings |

| Content template variable | Retrieved from                              |
| ------------------------- | ------------------------------------------- |
| %tootAuthorName%          | Mastodon API                                |
| %date%                    | Current date in format from plugin settings |
| %tootURL%                 | Mastodon API                                |
| %tootContent%             | Mastodon API                                |

You can enable savig of toot's replies or whole thread.

| Reply template variable   | Retrieved from                              |
| ------------------------- | ------------------------------------------- |
| %tootAuthorName%          | Mastodon API                                |
| %tootURL%                 | Mastodon API                                |
| %tootContent%             | Mastodon API                                |

### TikTok

Will be converted to note with embeded player in `<iframe>`.

| Title template variable | Retrieved from                              |
| ----------------------- | ------------------------------------------- |
| %authorName%            | OpenGraph markup                            |
| %date%                  | Current date in format from plugin settings |

| Content template variable | Retrieved from                              |
| ------------------------- | ------------------------------------------- |
| %videoDescription%        | OpenGraph markup                            |
| %date%                    | Current date in format from plugin settings |
| %videoURL%                | OpenGraph markup or URL from clipboard      |
| %videoId%                 | Video URL                                   |
| %videoPlayer%             | Embeded player generated by plugin          |
| %authorName%              | OpenGraph markup                            |
| %authorURL%               | OpenGraph markup                            |

### Website URL

Will be parsed to readable form using [Mozilla Readability](https://github.com/mozilla/readability) and then converted to markdown. In case website content is marked by [Readbility](https://github.com/mozilla/readability) as not readable, empty note with URL will be created. 

If enabled, images will be downloaded to folder (default is `ReadItLater Inbox/assets`) configured in plugin settings. (Supported only on desktop for now)

| Title template variable | Retrieved from                              |
| ------------------------| ------------------------------------------- |
| %title%                 | `<title>` HTML element                      |
| %date%                  | Current date in format from plugin settings |

| Content template variable | Retrieved from                              |
| ------------------------- | ------------------------------------------- |
| %articleTitle%            | `<title>` HTML element                      |
| %articleURL%              | URL from clipboard                          |
| %articleReadingTime%      | Estimated reading time                      |
| %articleContent%          | Parsed `<body>` HTML element                |
| %date%                    | Current date in format from plugin settings |

### Text Snippet

Will be created as new note with whole clipboard content.

| Title template variable | Retrieved from                              |
| ------------------------| ------------------------------------------- |
| %date%                  | Current date in format from plugin settings |

| Content template variable | Retrieved from                              |
| ------------------------- | ------------------------------------------- |
| %content%                 | Clipboard                                   |
| %date%                    | Current date in format from plugin settings |
